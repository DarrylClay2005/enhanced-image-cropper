#!/bin/bash

set -e

# Enhanced Image Cropper post-installation script

case "$1" in
    configure)
        echo "ðŸ“¦ Configuring Enhanced Image Cropper..."
        
        # Install Python dependencies
        echo "Installing Python dependencies..."
        pip3 install --user pillow opencv-python numpy customtkinter matplotlib scipy scikit-image || true
        
        # Update desktop database
        if command -v update-desktop-database >/dev/null 2>&1; then
            update-desktop-database /usr/share/applications
        fi
        
        # Update icon cache
        if command -v gtk-update-icon-cache >/dev/null 2>&1; then
            gtk-update-icon-cache -f /usr/share/icons/hicolor
        fi
        
        echo "âœ… Enhanced Image Cropper installation completed successfully!"
        echo "   You can now launch it from your applications menu or run 'enhanced-image-cropper' in terminal."
        ;;
esac

exit 0
